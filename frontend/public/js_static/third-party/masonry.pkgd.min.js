!function(h){function f(a){if(a){if("string"==typeof e[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var c,b=0,d=g.length;d>b;b++)if(c=g[b]+a,"string"==typeof e[c])return c}}var g="Webkit Moz ms Ms O".split(" "),e=document.documentElement.style;h.getStyleProperty=f}(window),function(n){function o(b){var c=parseFloat(b),a=-1===b.indexOf("%")&&!isNaN(c);return a&&c}function m(){for(var b={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},c=0,d=i.length;d>c;c++){var a=i[c];b[a]=0}return b}function k(b){function a(L){if("string"==typeof L&&(L=document.querySelector(L)),L&&"object"==typeof L&&L.nodeType){var e=j(L);if("none"===e.display)return m();var H={};H.width=L.offsetWidth,H.height=L.offsetHeight;for(var N=H.isBorderBox=!(!d||!e[d]||"border-box"!==e[d]),h=0,g=i.length;g>h;h++){var F=i[h],E=e[F],R=parseFloat(E);H[F]=isNaN(R)?0:R}var f=H.paddingLeft+H.paddingRight,K=H.paddingTop+H.paddingBottom,I=H.marginLeft+H.marginRight,O=H.marginTop+H.marginBottom,J=H.borderLeftWidth+H.borderRightWidth,P=H.borderTopWidth+H.borderBottomWidth,Q=N&&c,M=o(e.width);M!==!1&&(H.width=M+(Q?0:f+J));var G=o(e.height);return G!==!1&&(H.height=G+(Q?0:K+P)),H.innerWidth=H.width-(f+J),H.innerHeight=H.height-(K+P),H.outerWidth=H.width+I,H.outerHeight=H.height+O,H}}var c,d=b("boxSizing");return function(){if(d){var f=document.createElement("div");f.style.width="200px",f.style.padding="1px 2px 3px 4px",f.style.borderStyle="solid",f.style.borderWidth="1px 2px 3px 4px",f.style[d]="border-box";var e=document.body||document.documentElement;e.appendChild(f);var g=j(f);c=200===o(g.width),e.removeChild(f)}}(),a}var p=document.defaultView,j=p&&p.getComputedStyle?function(a){return p.getComputedStyle(a,null)}:function(a){return a.currentStyle},i=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];n.getSize=k(n.getStyleProperty)}(window),function(i){var g=document.documentElement,h=function(){};g.addEventListener?h=function(a,b,c){a.addEventListener(b,c,!1)}:g.attachEvent&&(h=function(a,b,c){a[b+c]=c.handleEvent?function(){var d=i.event;d.target=d.target||d.srcElement,c.handleEvent.call(c,d)}:function(){var d=i.event;d.target=d.target||d.srcElement,c.call(a,d)},a.attachEvent("on"+b,a[b+c])});var j=function(){};g.removeEventListener?j=function(a,b,c){a.removeEventListener(b,c,!1)}:g.detachEvent&&(j=function(a,c,d){a.detachEvent("on"+c,a[c+d]);try{delete a[c+d]}catch(b){a[c+d]=void 0}});var f={bind:h,unbind:j};i.eventie=f}(this),function(k){function l(a){"function"==typeof a&&(l.isReady?a():h.push(a))}function i(a){var b="readystatechange"===a.type&&"complete"!==g.readyState;if(!l.isReady&&!b){l.isReady=!0;for(var d=0,e=h.length;e>d;d++){var c=h[d];c()}}}function j(a){return a.bind(g,"DOMContentLoaded",i),a.bind(g,"readystatechange",i),a.bind(k,"load",i),l}var g=k.document,h=[];l.isReady=!1,k.docReady=j(k.eventie)}(this),function(){function N(){}function I(b,a){for(var c=b.length;c--;)if(b[c].listener===a)return c;return-1}function G(b){return function(){return this[b].apply(this,arguments)}}var E=N.prototype;E.getListeners=function(c){var b,a,d=this._getEvents();if("object"==typeof c){b={};for(a in d)d.hasOwnProperty(a)&&c.test(a)&&(b[a]=d[a])}else b=d[c]||(d[c]=[]);return b},E.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},E.getListenersAsObject=function(c){var b,a=this.getListeners(c);return a instanceof Array&&(b={},b[c]=a),b||a},E.addListener=function(c,e){var b,a=this.getListenersAsObject(c),d="object"==typeof e;for(b in a)a.hasOwnProperty(b)&&-1===I(a[b],e)&&a[b].push(d?e:{listener:e,once:!1});return this},E.on=G("addListener"),E.addOnceListener=function(b,a){return this.addListener(b,{listener:a,once:!0})},E.once=G("addOnceListener"),E.defineEvent=function(a){return this.getListeners(a),this},E.defineEvents=function(b){for(var a=0;a<b.length;a+=1)this.defineEvent(b[a]);return this},E.removeListener=function(c,d){var b,a,e=this.getListenersAsObject(c);for(a in e)e.hasOwnProperty(a)&&(b=I(e[a],d),-1!==b&&e[a].splice(b,1));return this},E.off=G("removeListener"),E.addListeners=function(b,a){return this.manipulateListeners(!1,b,a)},E.removeListeners=function(b,a){return this.manipulateListeners(!0,b,a)},E.manipulateListeners=function(c,b,e){var g,a,f=c?this.removeListener:this.addListener,d=c?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(g=e.length;g--;)f.call(this,b,e[g]);else for(g in b)b.hasOwnProperty(g)&&(a=b[g])&&("function"==typeof a?f.call(this,g,a):d.call(this,g,a));return this},E.removeEvent=function(c){var b,d=typeof c,a=this._getEvents();if("string"===d)delete a[c];else if("object"===d)for(b in a)a.hasOwnProperty(b)&&c.test(b)&&delete a[b];else delete this._events;return this},E.emitEvent=function(d,b){var g,e,f,c,a=this.getListenersAsObject(d);for(f in a)if(a.hasOwnProperty(f))for(e=a[f].length;e--;)g=a[f][e],g.once===!0&&this.removeListener(d,g.listener),c=g.listener.apply(this,b||[]),c===this._getOnceReturnValue()&&this.removeListener(d,g.listener);return this},E.trigger=G("emitEvent"),E.emit=function(b){var a=Array.prototype.slice.call(arguments,1);return this.emitEvent(b,a)},E.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},E._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},E._getEvents=function(){return this._events||(this._events={})},this.EventEmitter=N}.call(this),function(h){function e(){}function f(c){function a(j){j.prototype.option||(j.prototype.option=function(i){c.isPlainObject(i)&&(this.options=c.extend(!0,this.options,i))})}function b(l,k){c.fn[l]=function(v){if("string"==typeof v){for(var i=g.call(arguments,1),u=0,j=this.length;j>u;u++){var s=this[u],r=c.data(s,l);if(r)if(c.isFunction(r[v])&&"_"!==v.charAt(0)){var t=r[v].apply(r,i);if(void 0!==t)return t}else d("no such method '"+v+"' for "+l+" instance");else d("cannot call methods on "+l+" prior to initialization; attempted to call '"+v+"'")}return this}return this.each(function(){var m=c.data(this,l);m?(m.option(v),m._init()):(m=new k(this,v),c.data(this,l,m))})}}if(c){var d="undefined"==typeof console?e:function(j){console.error(j)};c.bridget=function(l,k){a(k),b(l,k)}}}var g=Array.prototype.slice;"function"==typeof define&&define.amd?define(["jquery"],f):f(h.jQuery)}(window),function(s,l){function p(a,b){return a[n](b)}function m(a){if(!a.parentNode){var b=document.createDocumentFragment();b.appendChild(a)}}function o(d,b){m(d);for(var a=d.parentNode.querySelectorAll(b),e=0,c=a.length;c>e;e++)if(a[e]===d)return!0;return!1}function q(a,b){return m(a),p(a,b)}var k,n=function(){if(l.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],b=0,c=e.length;c>b;b++){var a=e[b],d=a+"MatchesSelector";if(l[d])return d}}();if(n){var t=document.createElement("div"),r=p(t,"div");k=r?p:q}else k=o;window.matchesSelector=k}(this,Element.prototype),function(j){function h(b,c){for(var a in c)b[a]=c[a];return b}function i(a,b,w){function x(l,k){l&&(this.element=l,this.layout=k,this.position={x:0,y:0},this._create())}var c=w("transition"),s=w("transform"),e=c&&s,u=!!w("perspective"),z={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[c],v=["transform","transition","transitionDuration","transitionProperty"],d=function(){for(var n={},m=0,o=v.length;o>m;m++){var k=v[m],l=w(k);l&&l!==k&&(n[k]=l)}return n}();h(x.prototype,a.prototype),x.prototype._create=function(){this.css({position:"absolute"})},x.prototype.handleEvent=function(l){var k="on"+l.type;this[k]&&this[k](l)},x.prototype.getSize=function(){this.size=b(this.element)},x.prototype.css=function(l){var n=this.element.style;for(var k in l){var m=d[k]||k;n[m]=l[k]}},x.prototype.getPosition=function(){var m=g(this.element),o=this.layout.options,k=o.isOriginLeft,q=o.isOriginTop,p=parseInt(m[k?"left":"right"],10),l=parseInt(m[q?"top":"bottom"],10);p=isNaN(p)?0:p,l=isNaN(l)?0:l;var n=this.layout.size;p-=k?n.paddingLeft:n.paddingRight,l-=q?n.paddingTop:n.paddingBottom,this.position.x=p,this.position.y=l},x.prototype.layoutPosition=function(){var l=this.layout.size,m=this.layout.options,k={};m.isOriginLeft?(k.left=this.position.x+l.paddingLeft+"px",k.right=""):(k.right=this.position.x+l.paddingRight+"px",k.left=""),m.isOriginTop?(k.top=this.position.y+l.paddingTop+"px",k.bottom=""):(k.bottom=this.position.y+l.paddingBottom+"px",k.top=""),this.css(k),this.emitEvent("layout",[this])};var y=u?function(l,k){return"translate3d("+l+"px, "+k+"px, 0)"}:function(l,k){return"translate("+l+"px, "+k+"px)"};x.prototype._transitionTo=function(k,l){this.getPosition();var F=this.position.x,H=this.position.y,m=parseInt(k,10),n=parseInt(l,10),o=m===this.position.x&&n===this.position.y;if(this.setPosition(k,l),o&&!this.isTransitioning)return this.layoutPosition(),void 0;var p=k-F,q=l-H,r={},G=this.layout.options;p=G.isOriginLeft?p:-p,q=G.isOriginTop?q:-q,r.transform=y(p,q),this.transition({to:r,onTransitionEnd:this.layoutPosition,isCleaning:!0})},x.prototype.goTo=function(l,k){this.setPosition(l,k),this.layoutPosition()},x.prototype.moveTo=e?x.prototype._transitionTo:x.prototype.goTo,x.prototype.setPosition=function(l,k){this.position.x=parseInt(l,10),this.position.y=parseInt(k,10)},x.prototype._nonTransition=function(k){this.css(k.to),k.isCleaning&&this._removeStyles(k.to),k.onTransitionEnd&&k.onTransitionEnd.call(this)},x.prototype._transition=function(n){var p=this.layout.options.transitionDuration;if(!parseFloat(p))return this._nonTransition(n),void 0;var k=n.to,l=[];for(var q in k)l.push(q);var o={};if(o.transitionProperty=l.join(","),o.transitionDuration=p,this.element.addEventListener(z,this,!1),(n.isCleaning||n.onTransitionEnd)&&this.on("transitionEnd",function(r){return n.isCleaning&&r._removeStyles(k),n.onTransitionEnd&&n.onTransitionEnd.call(r),!0}),n.from){this.css(n.from);var m=this.element.offsetHeight;m=null}this.css(o),this.css(k),this.isTransitioning=!0},x.prototype.transition=x.prototype[c?"_transition":"_nonTransition"],x.prototype.onwebkitTransitionEnd=function(k){this.ontransitionend(k)},x.prototype.onotransitionend=function(k){this.ontransitionend(k)},x.prototype.ontransitionend=function(k){k.target===this.element&&(this.removeTransitionStyles(),this.element.removeEventListener(z,this,!1),this.isTransitioning=!1,this.emitEvent("transitionEnd",[this]))},x.prototype._removeStyles=function(l){var m={};for(var k in l)m[k]="";this.css(m)};var t={transitionProperty:"",transitionDuration:""};return x.prototype.removeTransitionStyles=function(){this.css(t)},x.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},x.prototype.remove=function(){if(!c||!parseFloat(this.layout.options.transitionDuration))return this.removeElem(),void 0;var k=this;this.on("transitionEnd",function(){return k.removeElem(),!0}),this.hide()},x.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var k=this.layout.options;this.transition({from:k.hiddenStyle,to:k.visibleStyle,isCleaning:!0})},x.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var k=this.layout.options;this.transition({from:k.visibleStyle,to:k.hiddenStyle,isCleaning:!0,onTransitionEnd:function(){this.css({display:"none"})}})},x.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},x}var f=document.defaultView,g=f&&f.getComputedStyle?function(a){return f.getComputedStyle(a,null)}:function(a){return a.currentStyle};j.Outlayer={},j.Outlayer.Item=i(j.EventEmitter,j.getSize,j.getStyleProperty)}(window),function(y){function w(b,c){for(var a in c)b[a]=c[a];return b}function A(a){return"[object Array]"===p.call(a)}function D(a){var b=[];if(A(a))b=a;else if(a&&"number"==typeof a.length)for(var c=0,d=a.length;d>c;c++)b.push(a[c]);else b.push(a);return b}function t(a){return a.replace(/(.)([A-Z])/g,function(c,d,b){return d+"-"+b}).toLowerCase()}function s(g,b,e,f,d,a){function j(k,l){if("string"==typeof k&&(k=v.querySelector(k)),!k||!x(k))return B&&B.error("Bad "+this.settings.namespace+" element: "+k),void 0;this.element=k,this.options=w({},this.options),w(this.options,l);var m=++i;this.element.outlayerGUID=m,c[m]=this,this._create(),this.options.isInitLayout&&this.layout()}function h(k,l){k.prototype[l]=w({},j.prototype[l])}var i=0,c={};return j.prototype.settings={namespace:"outlayer",item:a},j.prototype.options={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},w(j.prototype,e.prototype),j.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),w(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},j.prototype.reloadItems=function(){this.items=this._getItems(this.element.children)},j.prototype._getItems=function(J){for(var n=this._filterFindItemElements(J),I=this.settings.item,k=[],o=0,H=n.length;H>o;o++){var l=n[o],m=new I(l,this,this.options.itemOptions);k.push(m)}return k},j.prototype._filterFindItemElements=function(o){o=D(o);for(var n=this.options.itemSelector,L=[],k=0,K=o.length;K>k;k++){var m=o[k];if(x(m))if(n){d(m,n)&&L.push(m);for(var J=m.querySelectorAll(n),l=0,I=J.length;I>l;l++)L.push(J[l])}else L.push(m)}return L},j.prototype.getItemElements=function(){for(var k=[],m=0,l=this.items.length;l>m;m++)k.push(this.items[m].element);return k},j.prototype.layout=function(){this._resetLayout(),this._manageStamps();var k=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,k),this._isLayoutInited=!0},j.prototype._init=j.prototype.layout,j.prototype._resetLayout=function(){this.getSize()},j.prototype.getSize=function(){this.size=f(this.element)},j.prototype._getMeasurement=function(n,m){var l,k=this.options[n];k?("string"==typeof k?l=this.element.querySelector(k):x(k)&&(l=k),this[n]=l?f(l)[m]:k):this[n]=0},j.prototype.layoutItems=function(l,k){l=this._getItemsForLayout(l),this._layoutItems(l,k),this._postLayout()},j.prototype._getItemsForLayout=function(k){for(var l=[],o=0,n=k.length;n>o;o++){var m=k[o];m.isIgnored||l.push(m)}return l},j.prototype._layoutItems=function(I,l){if(!I||!I.length)return this.emitEvent("layoutComplete",[this,I]),void 0;this._itemsOn(I,"layout",function(){this.emitEvent("layoutComplete",[this,I])});for(var J=[],o=0,k=I.length;k>o;o++){var n=I[o],H=this._getItemLayoutPosition(n);H.item=n,H.isInstant=l,J.push(H)}this._processLayoutQueue(J)},j.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},j.prototype._processLayoutQueue=function(k){for(var n=0,m=k.length;m>n;n++){var l=k[n];this._positionItem(l.item,l.x,l.y,l.isInstant)}},j.prototype._positionItem=function(k,m,l,n){n?k.goTo(m,l):k.moveTo(m,l)},j.prototype._postLayout=function(){var k=this._getContainerSize();k&&(this._setContainerMeasure(k.width,!0),this._setContainerMeasure(k.height,!1))},j.prototype._getContainerSize=r,j.prototype._setContainerMeasure=function(l,k){if(void 0!==l){var m=this.size;m.isBorderBox&&(l+=k?m.paddingLeft+m.paddingRight+m.borderLeftWidth+m.borderRightWidth:m.paddingBottom+m.paddingTop+m.borderTopWidth+m.borderBottomWidth),l=Math.max(l,0),this.element.style[k?"width":"height"]=l+"px"}},j.prototype._itemsOn=function(L,l,K){function m(){return o++,o===M&&K.call(N),!0}for(var o=0,M=L.length,N=this,n=0,k=L.length;k>n;n++){var J=L[n];J.on(l,m)}},j.prototype.ignore=function(k){var l=this.getItem(k);l&&(l.isIgnored=!0)},j.prototype.unignore=function(k){var l=this.getItem(k);l&&delete l.isIgnored},j.prototype.stamp=function(k){if(k=this._find(k)){this.stamps=this.stamps.concat(k);for(var n=0,m=k.length;m>n;n++){var l=k[n];this.ignore(l)}}},j.prototype.unstamp=function(k){if(k=this._find(k))for(var n=0,m=k.length;m>n;n++){var l=k[n],o=u(this.stamps,l);-1!==o&&this.stamps.splice(o,1),this.unignore(l)}},j.prototype._find=function(k){return k?("string"==typeof k&&(k=this.element.querySelectorAll(k)),k=D(k)):void 0},j.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var m=0,l=this.stamps.length;l>m;m++){var k=this.stamps[m];this._manageStamp(k)}}},j.prototype._getBoundingRect=function(){var l=this.element.getBoundingClientRect(),k=this.size;this._boundingRect={left:l.left+k.paddingLeft+k.borderLeftWidth,top:l.top+k.paddingTop+k.borderTopWidth,right:l.right-(k.paddingRight+k.borderRightWidth),bottom:l.bottom-(k.paddingBottom+k.borderBottomWidth)}},j.prototype._manageStamp=r,j.prototype._getElementOffset=function(n){var m=n.getBoundingClientRect(),o=this._boundingRect,k=f(n),l={left:m.left-o.left-k.marginLeft,top:m.top-o.top-k.marginTop,right:o.right-m.right-k.marginRight,bottom:o.bottom-m.bottom-k.marginBottom};return l},j.prototype.handleEvent=function(l){var k="on"+l.type;this[k]&&this[k](l)},j.prototype.bindResize=function(){this.isResizeBound||(g.bind(y,"resize",this),this.isResizeBound=!0)},j.prototype.unbindResize=function(){g.unbind(y,"resize",this),this.isResizeBound=!1},j.prototype.resize=function(){var k=f(this.element),l=this.size&&k;l&&k.innerWidth===this.size.innerWidth||(this.layout(),delete this.resizeTimeout)},j.prototype.addItems=function(k){var l=this._getItems(k);if(l.length)return this.items=this.items.concat(l),l},j.prototype.appended=function(k){var l=this.addItems(k);l.length&&(this.layoutItems(l,!0),this.reveal(l))},j.prototype.prepended=function(k){var l=this._getItems(k);if(l.length){var m=this.items.slice(0);this.items=l.concat(m),this._resetLayout(),this.layoutItems(l,!0),this.reveal(l),this.layoutItems(m)}},j.prototype.reveal=function(k){if(k&&k.length)for(var n=0,m=k.length;m>n;n++){var l=k[n];l.reveal()}},j.prototype.hide=function(k){if(k&&k.length)for(var n=0,m=k.length;m>n;n++){var l=k[n];l.hide()}},j.prototype.getItem=function(m){for(var k=0,l=this.items.length;l>k;k++){var n=this.items[k];if(n.element===m)return n}},j.prototype.getItems=function(F){if(F&&F.length){for(var k=[],o=0,n=F.length;n>o;o++){var l=F[o],m=this.getItem(l);m&&k.push(m)}return k}},j.prototype.remove=function(k){k=D(k);var m=this.getItems(k);if(m&&m.length){this._itemsOn(m,"remove",function(){this.emitEvent("removeComplete",[this,m])});for(var o=0,n=m.length;n>o;o++){var l=m[o];l.remove();var F=u(this.items,l);this.items.splice(F,1)}}},j.prototype.destroy=function(){var n=this.element.style;n.height="",n.position="",n.width="";for(var k=0,m=this.items.length;m>k;k++){var l=this.items[k];l.destroy()}this.unbindResize(),delete this.element.outlayerGUID,q&&q.removeData(this.element,this.settings.namespace)},j.data=function(l){var k=l&&l.outlayerGUID;return k&&c[k]},j.create=function(m,k){function n(){j.apply(this,arguments)}return w(n.prototype,j.prototype),h(n,"options"),h(n,"settings"),w(n.prototype.options,k),n.prototype.settings.namespace=m,n.data=j.data,n.Item=function(){a.apply(this,arguments)},n.Item.prototype=new a,n.prototype.settings.item=n.Item,b(function(){for(var Q=t(m),o=v.querySelectorAll(".js-"+Q),P="data-"+Q+"-options",U=0,T=o.length;T>U;U++){var N,V=o[U],S=V.getAttribute(P);try{N=S&&JSON.parse(S)}catch(R){B&&B.error("Error parsing "+P+" on "+V.nodeName.toLowerCase()+(V.id?"#"+V.id:"")+": "+R);continue}var O=new n(V,N);q&&q.data(V,m,O)}}),q&&q.bridget&&q.bridget(m,n),n},j.Item=a,j}var v=y.document,B=y.console,q=y.jQuery,r=function(){},p=Object.prototype.toString,x="object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},u=Array.prototype.indexOf?function(b,a){return b.indexOf(a)}:function(b,a){for(var c=0,d=b.length;d>c;c++)if(b[c]===a)return c;return-1};y.Outlayer=s(y.eventie,y.docReady,y.EventEmitter,y.getSize,y.matchesSelector,y.Outlayer.Item)}(window),function(f){function e(b,a){var c=b.create("masonry");return c.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var h=this.cols;for(this.colYs=[];h--;)this.colYs.push(0);this.maxY=0},c.prototype.measureColumns=function(){var l=this._getSizingContainer(),j=this.items[0],k=j&&j.element;this.columnWidth||(this.columnWidth=k?a(k).outerWidth:this.size.innerWidth),this.columnWidth+=this.gutter,this._containerWidth=a(l).innerWidth,this.cols=Math.floor((this._containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},c.prototype._getSizingContainer=function(){return this.options.isFitWidth?this.element.parentNode:this.element},c.prototype._getItemLayoutPosition=function(i){i.getSize();var s=Math.ceil(i.size.outerWidth/this.columnWidth);s=Math.min(s,this.cols);for(var x=this._getColGroup(s),w=Math.min.apply(Math,x),r=d(x,w),t={x:this.columnWidth*r,y:w},q=w+i.size.outerHeight,v=this.cols+1-x.length,u=0;v>u;u++)this.colYs[r+u]=q;return t},c.prototype._getColGroup=function(n){if(1===n)return this.colYs;for(var m=[],i=this.cols+1-n,p=0;i>p;p++){var o=this.colYs.slice(p,p+n);m[p]=Math.max.apply(Math,o)}return m},c.prototype._manageStamp=function(x){var r=a(x),t=this._getElementOffset(x),u=this.options.isOriginLeft?t.left:t.right,w=u+r.outerWidth,i=Math.floor(u/this.columnWidth);i=Math.max(0,i);var v=Math.floor(w/this.columnWidth);v=Math.min(this.cols-1,v);for(var q=(this.options.isOriginTop?t.top:t.bottom)+r.outerHeight,s=i;v>=s;s++)this.colYs[s]=Math.max(q,this.colYs[s])},c.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var h={height:this.maxY};return this.options.isFitWidth&&(h.width=this._getContainerFitWidth()),h},c.prototype._getContainerFitWidth=function(){for(var i=0,j=this.cols;--j&&0===this.colYs[j];)i++;return(this.cols-i)*this.columnWidth-this.gutter},c.prototype.resize=function(){var l=this._getSizingContainer(),j=a(l),k=this.size&&j;k&&j.innerWidth===this._containerWidth||(this.layout(),delete this.resizeTimeout)},c}var d=Array.prototype.indexOf?function(b,a){return b.indexOf(a)}:function(i,a){for(var c=0,j=i.length;j>c;c++){var b=i[c];if(b===a)return c}return-1};f.Masonry=e(f.Outlayer,f.getSize)}(window);